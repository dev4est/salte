<?php/** * Created by PhpStorm. * User: user * Date: 04.05.18 * Time: 10:41 */namespace Communitys;    use Simpla;    class Users extends Simpla    {        public function __construct() {        }        /**         * @param int $filter         * @return mixed         */        public function getUsers($filter = 0)        {            if(isset($filter['community_id']))                $community_id = $this->db->placehold('AND ct.community_id=?', intval($filter['community_id']));            if(isset($filter['visible']))                $visible = $this->db->placehold('AND ct.visible=?', intval($filter['visible']));            $query = /** @lang sql */                "SELECT  ct.id, u.username, u.id, u.image, u.lastname, u.surname FROM __communitys_user as ct             LEFT JOIN s_users as u ON u.id = ct.user_id            WHERE 1 AND u.id>0 $community_id $visible";            $this->db->query($query);            return $this->db->results();        }        /**         * @param $user         * @return mixed         */        public function add_user($user)        {            $query = $this->db->placehold("INSERT INTO __communitys_user SET ?%", $user);            $this->db->query($query);            return $this->db->insert_id();        }        /**         * @param array $param         * @param array $user         * @return bool         */        public function update_user(array $param, array $user)        {            $query = $this->db->placehold("UPDATE __communitys_user SET ?% WHERE community_id = ? AND user_id=? LIMIT 1", $user, $param['community_id'], $param['user_id']);            if($this->db->query($query))                return true;            else                return false;        }    }